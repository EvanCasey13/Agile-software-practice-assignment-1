{"version":3,"file":"static/js/917.e1926d0c.chunk.js","mappings":"4HAuBE,IArBF,SAAqBA,EAAOC,GAExB,OAA4CC,EAAAA,EAAAA,UAASF,GAAM,eAApDG,EAAc,KAAEC,EAAiB,KAgBxC,OAfAC,EAAAA,EAAAA,YACE,WAEE,IAAMC,EAAUC,YAAW,WACzBH,EAAkBJ,EACpB,GAAGC,GAIH,OAAO,WACLO,aAAaF,EACf,CACF,GACA,CAACN,EAAOC,IAEHE,CACT,C,8ICuCF,UAjDyB,SAACM,GAExB,OAAoCP,EAAAA,EAAAA,UAAS,IAAG,eAAzCQ,EAAU,KAAEC,EAAa,KAC1BC,GAAsBC,EAAAA,EAAAA,GAAYH,EAAY,KAMpD,GAA8CI,EAAAA,EAAAA,UAAS,CAAC,eAAgB,CAAEF,oBAAAA,KAAwB,kBAAMG,EAAAA,EAAAA,IAAcH,EAAoB,GAAE,CAAEI,UAAWJ,IAAhJK,EAAI,EAAJA,KAAMC,EAAK,EAALA,MAAOC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAEjC,GAAID,EACF,OAAO,SAAC,IAAO,IAGjB,GAAIC,EACF,OAAO,wBAAKF,EAAMG,UAEpB,IAAMC,EAAY,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMM,QAGdC,EAAiB,OAALF,QAAK,IAALA,OAAK,EAALA,EAAOG,QAAO,SAAAC,GAAC,OAAK,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGC,QAAQ,IAChDC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,IAGjD,OACE,iBAAKQ,UAAU,QAAO,WACpB,SAAC,IAAU,KACb,6BACI,SAAC,IAAS,CACdC,GAAG,gBACHC,WAAS,EACTC,MAAM,oBACNC,KAAK,aACLC,QAAQ,SACRrC,MAAOU,EACP4B,SA/ByB,SAACC,GAC1B5B,EAAc4B,EAAEC,OAAOxC,MACzB,KA+BM,sBAGJ,SAAC,IAAY,CACXyC,MAAM,oBACNnB,MAAOA,MAIb,C","sources":["hooks/useDebounce.js","pages/searchTVShowPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nfunction useDebounce(value, delay) {\r\n    // State and setters for debounced value\r\n    const [debouncedValue, setDebouncedValue] = useState(value);\r\n    useEffect(\r\n      () => {\r\n        // Update debounced value after delay\r\n        const handler = setTimeout(() => {\r\n          setDebouncedValue(value);\r\n        }, delay);\r\n        // Cancel the timeout if value changes (also on delay change or unmount)\r\n        // This is how we prevent debounced value from updating if value is changed ...\r\n        // .. within the delay period. Timeout gets cleared and restarted.\r\n        return () => {\r\n          clearTimeout(handler);\r\n        };\r\n      },\r\n      [value, delay] // Only re-call effect if value or delay changes\r\n    );\r\n    return debouncedValue;\r\n  }\r\n\r\n  export default useDebounce;","import React, { useState, useContext } from \"react\";\r\nimport AuthContext from \"../AuthContext\";\r\nimport { Navigate } from 'react-router-dom';\r\nimport PageTemplate from '../components/templateShowListPage';\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useQuery } from 'react-query';\r\nimport Spinner from '../components/spinner';\r\nimport { searchTVShows } from \"../api/tmdb-api\";\r\nimport useDebounce from \"../hooks/useDebounce\"\r\nimport SiteHeader from './../components/siteHeader'\r\n\r\nconst SearchTVShowPage = (props) => {\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\r\n  \r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value)\r\n  }\r\n\r\n  const {  data, error, isLoading, isError }  = useQuery(['search/shows', { debouncedSearchTerm }], () => searchTVShows(debouncedSearchTerm), { enabled: !!debouncedSearchTerm})\r\n\r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  }  \r\n  const shows = data?.results;\r\n\r\n  // Redundant, but necessary to avoid app crashing.\r\n  const favorites = shows?.filter(s => s?.favorite)\r\n  localStorage.setItem('favorites', JSON.stringify(favorites))\r\n  const addToFavorites = (showId) => true \r\n\r\n  return (\r\n    <div className=\"shows\">\r\n      <SiteHeader />\r\n    <form>\r\n        <TextField\r\n    id=\"filled-search\"\r\n    fullWidth \r\n    label=\"Search for a show\"\r\n    type=\"searchTMDB\"\r\n    variant=\"filled\"\r\n    value={searchTerm}\r\n    onChange={handleSearchChange}\r\n        />\r\n        <br></br>\r\n        </form>\r\n\r\n    <PageTemplate\r\n      title='Discover TV Shows'\r\n      shows={shows}\r\n    />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchTVShowPage;"],"names":["value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","props","searchTerm","setSearchTerm","debouncedSearchTerm","useDebounce","useQuery","searchTVShows","enabled","data","error","isLoading","isError","message","shows","results","favorites","filter","s","favorite","localStorage","setItem","JSON","stringify","className","id","fullWidth","label","type","variant","onChange","e","target","title"],"sourceRoot":""}